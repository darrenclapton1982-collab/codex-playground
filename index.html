<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codex Playground</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1>Codex Playground</h1>
            <p class="tagline">A clean slate to explore ideas and build fast.</p>
            <a class="cta" href="#get-started">Get Started</a>
            <nav class="tab-nav" role="tablist" aria-label="Site sections">
                <button id="tab-overview" class="tab-link" type="button" role="tab" aria-controls="get-started" aria-selected="true" data-target="get-started">Overview</button>
                <button id="tab-games" class="tab-link" type="button" role="tab" aria-controls="games" aria-selected="false" data-target="games">Games</button>
            </nav>
        </div>
    </header>

    <main>
        <section class="section tab-panel" id="get-started" role="tabpanel" aria-labelledby="tab-overview" tabindex="0">
            <div class="container">
                <h2>Get things rolling</h2>
                <p>Drop in your first feature, draft a layout, or sketch a concept. This lightweight scaffold is here so you can focus on the part that matters.</p>
            </div>
        </section>

        <section class="section alt tab-panel" id="games" role="tabpanel" aria-labelledby="tab-games" tabindex="0">
            <div class="container game-card">
                <h2>Quick Guess Game</h2>
                <p>Pick a number between 1 and 10. See how few tries it takes to land the right answer.</p>

                <form id="guess-form" class="guess-form">
                    <label for="guess-input">Your guess</label>
                    <div class="guess-controls">
                        <input type="number" id="guess-input" name="guess" min="1" max="10" required>
                        <button type="submit" class="guess-button">Check</button>
                    </div>
                </form>
                <button type="button" id="play-again" class="play-again" hidden>Play again</button>
                <p class="feedback" id="feedback" role="status" aria-live="polite"></p>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <small>Ready for your next experiment.</small>
        </div>
    </footer>

    <script>
    (() => {
        const body = document.body;
        body.classList.add('has-tabs');

        const tabButtons = Array.from(document.querySelectorAll('.tab-link'));
        const panels = Array.from(document.querySelectorAll('.tab-panel'));

        const activateTab = (id) => {
            tabButtons.forEach((button) => {
                const isActive = button.dataset.target === id;
                button.classList.toggle('active', isActive);
                button.setAttribute('aria-selected', String(isActive));
                button.setAttribute('tabindex', isActive ? '0' : '-1');
            });

            panels.forEach((panel) => {
                const isActive = panel.id === id;
                panel.classList.toggle('is-active', isActive);
                panel.setAttribute('tabindex', isActive ? '0' : '-1');
            });
        };

        tabButtons.forEach((button) => {
            button.addEventListener('click', () => {
                activateTab(button.dataset.target);
            });
        });

        activateTab('get-started');

        const form = document.getElementById('guess-form');
        if (!form) {
            return;
        }

        const input = document.getElementById('guess-input');
        const feedback = document.getElementById('feedback');
        const playAgainButton = document.getElementById('play-again');
        const submitButton = form.querySelector('button[type="submit"]');

        const getRandomNumber = () => Math.floor(Math.random() * 10) + 1;
        let secretNumber = getRandomNumber();
        let attempts = 0;

        const resetGame = () => {
            secretNumber = getRandomNumber();
            attempts = 0;
            feedback.textContent = 'Pick a number between 1 and 10.';
            playAgainButton.hidden = true;
            input.disabled = false;
            input.value = '';
            submitButton.disabled = false;
            input.focus();
        };

        form.addEventListener('submit', (event) => {
            event.preventDefault();
            const guess = Number(input.value);

            if (!Number.isInteger(guess) || guess < 1 || guess > 10) {
                feedback.textContent = 'Enter a whole number between 1 and 10.';
                return;
            }

            attempts += 1;

            if (guess === secretNumber) {
                feedback.textContent = `Nice! ${guess} is correct. It took ${attempts} attempt${attempts === 1 ? '' : 's'}.`;
                input.disabled = true;
                submitButton.disabled = true;
                playAgainButton.hidden = false;
                playAgainButton.focus();
            } else if (guess < secretNumber) {
                feedback.textContent = 'Too low. Try a higher number.';
            } else {
                feedback.textContent = 'Too high. Try a lower number.';
            }
        });

        playAgainButton.addEventListener('click', () => {
            resetGame();
        });

        resetGame();
    })();
    </script>
</body>
</html>
